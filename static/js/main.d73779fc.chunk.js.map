{"version":3,"sources":["Layout/Header.js","Layout/Sidebar.js","Layout/Layout.js","Layout/Footer.js","index.js"],"names":["Header","_Component","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","apply","arguments","inherits","createClass","key","value","react_default","a","createElement","Fragment","id","class","href","title","alt","src","data-toggle","type","Component","Sidebar","Layout","Layout_Header","Sidebar_Sidebar","footer","tf","require","names","App","state","model","preview","predictions","onDrop","accepted","rejected","links","_this","setState","cropToCanvas","image","canvas","ctx","naturalWidth","naturalHeight","clearRect","width","height","fillStyle","fillRect","ratio","Math","min","newWidth","round","newHeight","drawImage","onImageChange","e","c","document","getElementById","getContext","target","_this$state$model$inp","inputs","shape","slice","_this$state$model$inp2","slicedToArray","modelWidth","modelHeight","input","tidy","resizeBilinear","browser","fromPixels","div","expandDims","executeAsync","then","res","font","textBaseline","i","_res","boxes","scores","classes","valid_detections","boxes_data","dataSync","scores_data","classes_data","valid_detections_data","dispose","_boxes_data$slice","_boxes_data$slice2","x1","y1","x2","y2","klass","score","toFixed","strokeStyle","lineWidth","strokeRect","textWidth","measureText","textHeight","parseInt","_boxes_data$slice3","_boxes_data$slice4","fillText","_this2","loadGraphModel","Layout_Layout","className","build_default","accept","multiple","onLoad","Footer_footer","React","rootElement","ReactDOM","render","src_App"],"mappings":"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","file":"static/js/main.d73779fc.chunk.js","sourcesContent":["import React, { Component } from 'react'\r\n\r\nexport class Header extends Component {\r\n    render() {\r\n        return (\r\n            <>\r\n                <header id=\"main-header\" class=\"header-v6 hidden-sm hidden-xs\">\r\n                    <div class=\"container-fluid\">\r\n                        <div class=\"inner row\">\r\n                            <div class=\"logo col-lg-2 col-md-2\">\r\n                                <a href=\"https://prodev-theron.github.io/dip-plantidentifier/\" title=\"logo\"><img alt=\"logo-theme\" src=\"images/logo.png\" class=\"img-responsive\" /></a>\r\n                            </div>\r\n                            <div class=\"header-right col-lg-10 col-md-10\">\r\n                                <div class=\"main-menu\">\r\n                                    <div id=\"menu-popup\" class=\"menu-popup\">\r\n                                        <div class=\"burger-menu\"><span></span></div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </header>\r\n\r\n                <header id=\"header_mobile\" class=\"header-mobile-default hidden-lg hidden-md\">\r\n                    <div class=\"header-top\">\r\n                        <div class=\"container\">\r\n                            <div class=\"logo text-center\">\r\n                                <a href=\"https://prodev-theron.github.io/dip-plantidentifier/\" title=\"logo\"><img alt=\"logo-theme\" src=\"images/logo.png\" class=\"img-responsive\" /></a>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"header-bottom\">\r\n                        <div class=\"container\">\r\n                            <div class=\"inner\">\r\n                                <div class=\"header-main\">\r\n                                    <div class=\"main-left\">\r\n                                        <button data-toggle=\"offcanvas\" class=\"btn btn-offcanvas btn-toggle-canvas offcanvas\" type=\"button\">\r\n                                            <i class=\"ion ion-android-menu\"></i>\r\n                                        </button>\r\n                                    </div>\r\n                                    <div class=\"main-right\">\r\n\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </header>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Header","import React, { Component } from 'react'\r\n\r\nexport default class Sidebar extends Component {\r\n    render() {\r\n        return (\r\n            <>\r\n                <div id=\"content_menu_popup\" class=\"content-menu-popup hidden-sm hidden-xs\">\r\n                    <div class=\"menu-popup-body\">\r\n                        <ul class=\"navbar-menu\">\r\n                            <li class=\"items\">\r\n                                <a href=\"https://prodev-theron.github.io/dip-plantidentifier/\"><span>Home</span></a>\r\n                            </li>\r\n                            <li class=\"items\">\r\n                                <a href=\"../dip-plantidentifier/Floradex.html\"><span>Floradex</span></a>\r\n                            </li>\r\n                            <li class=\"items\">\r\n                                <a href=\"../Final IEEE Paper.pdf\"><span>IEEE Paper</span></a>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n\r\n                <div id=\"pbr-off-canvas\" class=\"pbr-off-canvas sidebar-offcanvas hidden-lg hidden-md\">\r\n                    <div class=\"pbr-off-canvas-body\">\r\n                        <div class=\"offcanvas-head\">\r\n                            <button type=\"button\" class=\"btn btn-close btn-toggle-canvas\" data-toggle=\"offcanvas\">\r\n                                <i class=\"pe-7s-close-circle\"></i>\r\n                            </button>\r\n                            <span>Menu</span>\r\n                        </div>\r\n                        <nav class=\"navbar navbar-offcanvas navbar-static\">\r\n                            <ul class=\"nav navbar-nav\">\r\n                                <li class=\"level1 active hassub\">\r\n                                    <a href=\"https://prodev-theron.github.io/dip-plantidentifier/\">Home</a>\r\n                                </li>\r\n                                <li class=\"level1 hassub\">\r\n                                    <a href=\"../dip-plantidentifier/Floradex.html\">Floradex </a>\r\n                                </li>\r\n                            </ul>\r\n                        </nav>\r\n                    </div>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport Header from './Header'\r\nimport Sidebar from './Sidebar'\r\n\r\nexport default class Layout extends Component {\r\n    render() {\r\n        return (\r\n            <>\r\n                <Header />\r\n                <Sidebar />\r\n                \r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\n\r\nexport default class footer extends Component {\r\n    render() {\r\n        return (\r\n            <>\r\n            <br /><br /><br /><br />\r\n                <footer class=\"footer\">\r\n                    <div class=\"container\">\r\n                        <div class=\"footer-bottom\">\r\n                            <div class=\"wrap-copyright\">\r\n                                <div class=\"copyright\" id=\"coppy\">\r\n                                    Copyright © 2022 IdentiPlant. Created with <i class=\"fa fa-heart\"></i> by Group 4.\r\n                                </div>\r\n                                <div class=\"countries\" id=\"coppy\">\r\n                                    <img src=\"images/logo-white.png\" alt=\"logo\" />Pamantasan ng Lungsod ng Maynila\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                                <div class=\"col-xs-12 col-sm-12 col-md-6 col-lg-8\">\r\n                                    <div class=\"menu-footer\" >\r\n                                        <ul>\r\n                                            <li><a href=\"https://prodev-theron.github.io/dip-plantidentifier/\" id=\"coppy\">Home</a></li>\r\n                                            <li><a href=\"../dip-plantidentifier/Floradex.html\" id=\"coppy\">Floradex</a></li>\r\n                                            <li><a href=\"../Final IEEE Paper.pdf\" id=\"coppy\">IEEE Paper</a></li>\r\n                                        </ul>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-4\">\r\n                                    <div class=\"social\">\r\n                                        <a href=\"https://www.linkedin.com/in/prodev-theron\" title=\"Theron's LinkedIn\">\r\n                                            <i class=\"fa fa-linkedin\"></i>\r\n                                        </a>\r\n                                        <a href=\"../Final IEEE Paper.pdf\" title=\"IEEE Paperclip\">\r\n                                            <i class=\"fa fa-paperclip\"></i>\r\n                                        </a>\r\n                                        <a href=\"https://github.com/proDev-Theron/dip-plantidentifier\" title=\"Project's GitHub Repo\">\r\n                                            <i class=\"fa fa-github\"></i>\r\n                                        </a>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </footer>\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport Layout from \"./Layout/Layout\";\r\nimport Footer from \"./Layout/Footer\"\r\nimport MagicDropzone from \"react-magic-dropzone\";\r\n\r\nimport \"./styles.css\";\r\nconst tf = require('@tensorflow/tfjs');\r\n\r\n//Has 404 error in production. Added GitHub repository name /dip-plantidentifier/ \r\nconst weights = '/dip-plantidentifier/web_model/model.json';\r\n\r\nconst names = ['Kamyas', 'Oregano', 'Mango', 'Golden Photos', 'Croton', 'person']\r\n\r\nclass App extends React.Component {\r\n  state = {\r\n    model: null,\r\n    preview: \"\",\r\n    predictions: []\r\n  };\r\n\r\n  componentDidMount() {\r\n    document.title = \"Digital Image Processing Plant Identifier\"\r\n    tf.loadGraphModel(weights).then(model => {\r\n      this.setState({\r\n        model: model\r\n      });\r\n    });\r\n  }\r\n\r\n  onDrop = (accepted, rejected, links) => {\r\n    this.setState({ preview: accepted[0].preview || links[0] });\r\n  };\r\n\r\n  cropToCanvas = (image, canvas, ctx) => {\r\n    const naturalWidth = image.naturalWidth;\r\n    const naturalHeight = image.naturalHeight;\r\n\r\n    // canvas.width = image.width;\r\n    // canvas.height = image.height;\r\n\r\n    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\r\n    ctx.fillStyle = \"#000000\";\r\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n    const ratio = Math.min(canvas.width / image.naturalWidth, canvas.height / image.naturalHeight);\r\n    const newWidth = Math.round(naturalWidth * ratio);\r\n    const newHeight = Math.round(naturalHeight * ratio);\r\n    ctx.drawImage(\r\n      image,\r\n      0,\r\n      0,\r\n      naturalWidth,\r\n      naturalHeight,\r\n      (canvas.width - newWidth) / 2,\r\n      (canvas.height - newHeight) / 2,\r\n      newWidth,\r\n      newHeight,\r\n    );\r\n\r\n  };\r\n\r\n  onImageChange = e => {\r\n    const c = document.getElementById(\"canvas\");\r\n    const ctx = c.getContext(\"2d\");\r\n    this.cropToCanvas(e.target, c, ctx);\r\n    let [modelWidth, modelHeight] = this.state.model.inputs[0].shape.slice(1, 3);\r\n    const input = tf.tidy(() => {\r\n      return tf.image.resizeBilinear(tf.browser.fromPixels(c), [modelWidth, modelHeight])\r\n        .div(255.0).expandDims(0);\r\n    });\r\n    this.state.model.executeAsync(input).then(res => {\r\n      // Font options.\r\n      const font = \"16px sans-serif\";\r\n      ctx.font = font;\r\n      ctx.textBaseline = \"top\";\r\n\r\n      const [boxes, scores, classes, valid_detections] = res;\r\n      const boxes_data = boxes.dataSync();\r\n      const scores_data = scores.dataSync();\r\n      const classes_data = classes.dataSync();\r\n      const valid_detections_data = valid_detections.dataSync()[0];\r\n\r\n      tf.dispose(res)\r\n\r\n      var i;\r\n      for (i = 0; i < valid_detections_data; ++i){\r\n        let [x1, y1, x2, y2] = boxes_data.slice(i * 4, (i + 1) * 4);\r\n        x1 *= c.width;\r\n        x2 *= c.width;\r\n        y1 *= c.height;\r\n        y2 *= c.height;\r\n        const width = x2 - x1;\r\n        const height = y2 - y1;\r\n        const klass = names[classes_data[i]];\r\n        const score = scores_data[i].toFixed(2);\r\n\r\n        // Draw the bounding box.\r\n        ctx.strokeStyle = \"#00FFFF\";\r\n        ctx.lineWidth = 4;\r\n        ctx.strokeRect(x1, y1, width, height);\r\n\r\n        // Draw the label background.\r\n        ctx.fillStyle = \"#00FFFF\";\r\n        const textWidth = ctx.measureText(klass + \":\" + score).width;\r\n        const textHeight = parseInt(font, 10); // base 10\r\n        ctx.fillRect(x1, y1, textWidth + 4, textHeight + 4);\r\n\r\n      }\r\n      for (i = 0; i < valid_detections_data; ++i){\r\n        let [x1, y1, , ] = boxes_data.slice(i * 4, (i + 1) * 4);\r\n        x1 *= c.width;\r\n        y1 *= c.height;\r\n        const klass = names[classes_data[i]];\r\n        const score = scores_data[i].toFixed(2);\r\n\r\n        // Draw the text last to ensure it's on top.\r\n        ctx.fillStyle = \"#000000\";\r\n        ctx.fillText(klass + \":\" + score, x1, y1);\r\n\r\n      }\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n      <Layout/>\r\n      <div className=\"Dropzone-page\">\r\n        {this.state.model ? (\r\n          <MagicDropzone\r\n            className=\"Dropzone\"\r\n            accept=\"image/jpeg, image/png, .jpg, .jpeg, .png\"\r\n            multiple={false}\r\n            onDrop={this.onDrop}\r\n          >\r\n            {this.state.preview ? (\r\n              <img\r\n                alt=\"upload preview\"\r\n                onLoad={this.onImageChange}\r\n                className=\"Dropzone-img\"\r\n                src={this.state.preview}\r\n              />\r\n            ) : (\r\n              \"Choose or drop a file.\"\r\n            )}\r\n            <canvas id=\"canvas\" width=\"640\" height=\"640\" />\r\n          </MagicDropzone>\r\n        ) : (\r\n          <div className=\"Dropzone\">Loading model...</div>\r\n        )}\r\n      </div>\r\n\r\n      <Footer />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst rootElement = document.getElementById(\"root\");\r\nReactDOM.render(<App />, rootElement);\r\n"],"sourceRoot":""}